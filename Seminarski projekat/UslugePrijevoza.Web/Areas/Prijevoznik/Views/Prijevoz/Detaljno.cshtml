@model PrijevozDetaljnoVM
@{
    ViewData["Title"] = "Home Page";
    var ukupno = 0.0;
}
<link rel="stylesheet" href="~/css/site.css">



<div class="col-md-10">
    <h4 class="card-title mt-0 primary3">  Detaljno o rezervaciji </h4>
</div>
<hr />
<div class="row justify-content-center">

    <div class="col-md-6">
        <div class="justify-content-center">

            <div class="row justify-content-center align-items-center ">
                <div class="col-md-12 col-xl-8 col-lg-12">
                    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            @for (int i = 0; i < Model.Slike.Count; i++)
                            {
                                if (i == 0)
                                {

                                    <li data-target="#carouselExampleIndicators" data-slide-to="@i" class="active"></li>

                                }
                                else
                                {
                                    <li data-target="#carouselExampleIndicators" data-slide-to="@i"></li>


                                }

                            }
                        </ol>
                        <div class="carousel-inner">

                            @for (int i = 0; i < Model.Slike.Count; i++)
                            {


                                if (i == 0)
                                {
                                    <div class="carousel-item active " data-interval="10000">
                                        <img src="@Model.Slike[i].Slike.URL" class="d-block w-100 " alt="@Model.Slike[i].Slike.Naziv">
                                    </div>
                                }
                                else
                                {
                                    <div class="carousel-item" data-interval="10000">
                                        <img src="@Model.Slike[i].Slike.URL" class="d-block w-100 " alt="@Model.Slike[i].Slike.Naziv">
                                    </div>
                                }
                            }

                        </div>
                        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>
            </div>
            <hr />
            @*<form>





                    <a asp-controller="Prijevoz" asp-area="Prijevoznik" asp-action="Dodaj" asp-route-id="@Model.TeretRezervacijaID" class="btn btn-block btn-primary" style="width:100%;">Prihvati</a>
                </form>*@
        </div>
    </div>
    <div class="col-10">
        <div class="row">

            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Početna lokacija</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.PocetnaLokacija</div>
                            </div>
                            <div class="col-location">
                                <i class="fas fa-map-marked fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-dark shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Krajnja lokacija</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.KrajnjaLokacija</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-map-marked fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-dark shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Optimalna udaljenost izmedju lokacija</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800" id="Udaljenost">-/-</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-map-marked fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-dark shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Optimalno trajanje voznje</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800" id="Vrijeme">-/-</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-map-marked fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-12 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col ">
                                @*mr-2*@
                                @*<div class="h5 mb-0 font-weight-bold text-gray-800 text-center">
                                        <a class="btn" asp-controller="Prijevoz" asp-action="PrikaziMapu" asp-route-id="@Model.TeretRezervacijaID">Prikazi mapu</a>
                                    </div>*@
                                <div id="map"></div>

                            </div>
                            @*<div class="col-auto">
                                    <i class="fas fa-map fa-2x text-gray-300 align-content-center"></i>
                                </div>*@
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-success shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Početni datum prijevoza</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.PocetniDatumPrijevoza</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-calendar-day fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Teret</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.NazivTereta</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-truck fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Opis tereta</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.OpisTereta</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-truck-loading fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-danger shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Tezina tereta (u kg)</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.Tezina</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-weight-hanging fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-danger shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Maksimalna visina (u m/metrima)</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.MaxVisina</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-text-height fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-danger shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Maksimalna sirina (u m/metrima)</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800">@Model.MaxSirina</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-text-width fa-2x text-gray-300"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <div class="col-xl-12 col-md-6 mb-4">
                <div class="card border-left-info shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1 text-center">Klijent</div>
                                <div class="h5 mb-0 font-weight-bold text-gray-800 text-center">@Model.User</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-user fa-2x text-gray-300 align-content-center"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="card border-left-warning shadow h-100 py-2">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Dodatne usluge</div>
                            </div>
                            <div class="col-12">
                                <div class="table-responsive" style="margin-top:20px">

                                    <table class="table table-hover" id="stil">
                                        <thead class="">
                                            <tr>
                                                <th>Naziv</th>
                                                <th>Opis</th>
                                                <th>Kolicina</th>
                                                <th>Ukupna Cijena</th>
                                            </tr>
                                        </thead>
                                        <tbody id="rootElement">

                                            @foreach (var Item in Model.DodatneUsluge)
                                            {
                                                <tr>
                                                    <td>@Item.Naziv</td>
                                                    <td>@Item.Opis</td>
                                                    <td>@Item.Kolicina</td>
                                                    <td>@Item.Cijena</td>
                                                    @{ ukupno += Item.Cijena;}
                                                </tr>

                                            }
                                            <tr>
                                                <td>Ukupno:</td>
                                                <td></td>
                                                <td></td>
                                                <th style="font-weight:bold;">@ukupno</th>
                                            </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br />
        <hr />
        <br />
        @if (Model.Trigger == false)
        {
            <div class="row justify-content-center">
                <a asp-controller="Prijevoz" asp-area="Prijevoznik" asp-action="Dodaj" asp-route-id="@Model.TeretRezervacijaID" class="btn btn-primary" style="align-content:center;">Prihvati</a>
            </div>
        }
    </div>

</div>
<script src="~/js/site.js"></script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB6IVVIweCmbW9h0GVkj1Ff7UUn3wXfk8Q&callback=initMap">
</script>
<script>

    $(window).on("load",function () {
     initMap2("@Model.PocetnaLokacija","@Model.KrajnjaLokacija")
    });

</script>